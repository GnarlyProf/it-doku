/* =========================================================
   Global & Container
   ========================================================= */
:root {
    --header-h: 56px; /* Navbar-Höhe */
    --app-max: 1896px; /* ~1920 - 2×12px Rand: viel Nutzbreite, nicht randlos */
}

@media (min-width: 1400px) {
    .container-xxl {
        max-width: var(--app-max);
    }
}

body {
    background: #f6f8fb;
}

.card {
    border-radius: 1rem;
}

    .card + .card {
        margin-top: 1rem;
    }

/* Erste Karte im Content nicht nach unten schieben */
.app-content > .card:first-child {
    margin-top: 0;
}

/* =========================================================
   App-Grid: Sidebar links fix, Content füllt
   ========================================================= */
.app-grid {
    display: grid;
    grid-template-columns: 360px minmax(0, 1fr); /* Sidebar ~+30px */
    gap: 16px;
    align-items: start;
}

/* Bei sehr breiten Screens Sidebar noch einen Tick größer */
@media (min-width: 1400px) {
    .app-grid {
        grid-template-columns: 380px minmax(0, 1fr);
    }
}

/* < lg: untereinander */
@media (max-width: 991.98px) {
    .app-grid {
        grid-template-columns: 1fr;
    }
}

/* Content-Spalte darf umbrechen und scrollbar sein */
.app-content {
    min-width: 0;
}

/* Sticky Sidebar (ab lg), mobil normal */
@media (min-width: 992px) {
    .sidebar-sticky {
        position: sticky;
        top: calc(var(--header-h) + .75rem);
    }

    .sidebar-card {
        max-height: calc(100vh - var(--header-h) - 3.5rem);
        overflow: auto;
    }
}

@media (max-width: 991.98px) {
    .sidebar-sticky {
        position: static;
        top: auto;
    }

    .sidebar-card {
        max-height: none;
        overflow: visible;
    }
}

/* =========================================================
   Tree (Baum)
   ========================================================= */
.tree, .tree ul {
    list-style: none;
    padding-left: 1rem;
}

    .tree li {
        margin: .15rem 0;
        position: relative;
    }

        .tree li::before {
            content: "";
            position: absolute;
            left: -0.6rem;
            top: 0.8rem;
            width: 0.5rem;
            height: 1px;
            background: #ccc;
        }

    .tree a {
        text-decoration: none;
        color: #0d6efd;
    }

        .tree a:hover {
            text-decoration: underline;
        }

    .tree .tree-link.active {
        font-weight: 600;
        color: var(--bs-primary);
    }

    .tree .tree-spacer {
        width: 1rem;
        display: inline-block;
    }

    .tree .tree-toggle .tree-caret::before {
        content: "▾";
        display: inline-block;
        transition: transform .15s;
        line-height: 1;
    }

    .tree .tree-toggle[aria-expanded="false"] .tree-caret::before {
        content: "▸";
    }

/* =========================================================
   Tabellen, Buttons & Utilities
   ========================================================= */
.table-sm th, .table-sm td {
    vertical-align: middle;
}

.table-nowrap th, .table-nowrap td {
    white-space: nowrap;
}

@media (max-width: 991.98px) {
    .col-hide-lg {
        display: none !important;
    }
}

@media (max-width: 767.98px) {
    .col-hide-md {
        display: none !important;
    }
}

.btn {
    --bs-btn-padding-y: .375rem;
    --bs-btn-padding-x: .6rem;
}

.btn-sm {
    --bs-btn-padding-y: .25rem;
    --bs-btn-padding-x: .5rem;
}

/* =========================================================
   Web-Info Card + Passwort-Countdown
   ========================================================= */
.card.border-info .card-header {
    background: #e7f5ff;
}

.card.border-info .card-body .text-muted.small {
    font-weight: 600;
}

.timeout-wrap {
    height: 4px;
    background: #e9ecef;
    border-radius: 3px;
    overflow: hidden;
}

.timeout-bar {
    height: 100%;
    width: 100%;
    background: #0d6efd; /* Dauer setzt JS */
}

/* =========================================================
   Diff-Komponenten
   ========================================================= */
.diff-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.diff-col {
    border: 1px solid #dee2e6;
    border-radius: .5rem;
    overflow: hidden;
    background: #fff;
}

.diff-head {
    background: #f1f3f5;
    padding: .5rem .75rem;
    font-weight: 600;
}

/* <pre>-Variante */
.diff-pre {
    margin: 0;
    padding: .75rem;
    background: #fff;
    max-height: 60vh;
    overflow: auto;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 12px;
    line-height: 1.4;
    white-space: pre-wrap;
}

    .diff-pre .line {
        display: block;
    }

    .diff-pre .ln {
        color: #999;
        margin-right: .5rem;
        display: inline-block;
        min-width: 2.5rem;
        text-align: right;
        user-select: none;
    }

    .diff-pre .add {
        background: #e6ffed;
    }

    .diff-pre .remove {
        background: #ffeef0;
    }

    .diff-pre .change {
        background: #fff3cd;
    }

    .diff-pre .ghost {
        opacity: .4;
    }

/* Tabellen-Variante */
.diff-scroll {
    max-height: 60vh;
    overflow: auto;
}

.diff-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    table-layout: fixed;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace;
    font-size: 12px;
    line-height: 1.15;
}

    .diff-table td {
        padding: 2px 6px;
        vertical-align: top;
        white-space: pre-wrap;
        word-wrap: break-word;
    }

        .diff-table td.ln {
            width: 3.2rem;
            color: #999;
            text-align: right;
            user-select: none;
            border-right: 1px solid #eee;
        }

        .diff-table td.cell.add {
            background: #e6ffed;
        }

        .diff-table td.cell.remove {
            background: #ffeef0;
        }

        .diff-table td.cell.change {
            background: #fff3cd;
        }
